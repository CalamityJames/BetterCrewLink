{"version":3,"file":"Avatar.js","sourceRoot":"","sources":["Avatar.tsx"],"names":[],"mappings":"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","sourcesContent":["import React, { useMemo } from 'react';\r\nimport { Player } from '../common/AmongUsState';\r\nimport {\r\n\tgetCosmetic,\r\n\tredAlive,\r\n\tcosmeticType,\r\n\tgetHatDementions,\r\n\tinitializedHats as initializedHats,\r\n\tinitializeHats,\r\n\tHatDementions,\r\n} from './cosmetics';\r\nimport makeStyles from '@material-ui/core/styles/makeStyles';\r\nimport MicOff from '@material-ui/icons/MicOff';\r\nimport VolumeOff from '@material-ui/icons/VolumeOff';\r\nimport WifiOff from '@material-ui/icons/WifiOff';\r\nimport LinkOff from '@material-ui/icons/LinkOff';\r\nimport ErrorOutline from '@material-ui/icons/ErrorOutline'; //@ts-ignore\r\nimport RadioSVG from '../../static/radio.svg';\r\n// import Tooltip from '@material-ui/core/Tooltip';\r\nimport Tooltip from 'react-tooltip-lite';\r\nimport { SocketConfig } from '../common/ISettings';\r\nimport Slider from '@material-ui/core/Slider';\r\nimport VolumeUp from '@material-ui/icons/VolumeUp';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { ModsType } from '../common/Mods';\r\n\r\nconst useStyles = makeStyles(() => ({\r\n\tcanvas: {\r\n\t\tposition: 'absolute',\r\n\t\twidth: '100%',\r\n\t},\r\n\ticon: {\r\n\t\tbackground: '#ea3c2a',\r\n\t\tposition: 'absolute',\r\n\t\tleft: '50%',\r\n\t\ttop: '50%',\r\n\t\ttransform: 'translate(-50%, -50%)',\r\n\t\tborder: '2px solid #690a00',\r\n\t\tborderRadius: '50%',\r\n\t\tpadding: 2,\r\n\t\tzIndex: 10,\r\n\t},\r\n\ticonNoBackground: {\r\n\t\tposition: 'absolute',\r\n\t\tleft: '50%',\r\n\t\ttop: '50%',\r\n\t\ttransform: 'translate(-50%, -50%)',\r\n\t\tborderRadius: '50%',\r\n\t\tpadding: 2,\r\n\t\tzIndex: 10,\r\n\t},\r\n\trelative: {\r\n\t\tposition: 'relative',\r\n\t},\r\n\tslidecontainer: {\r\n\t\tminWidth: '80px',\r\n\t},\r\n\tinnerTooltip: {\r\n\t\ttextAlign: 'center',\r\n\t},\r\n}));\r\n\r\nexport interface CanvasProps {\r\n\that: string;\r\n\tskin: string;\r\n\tvisor: string;\r\n\tisAlive: boolean;\r\n\tclassName: string;\r\n\tlookLeft: boolean;\r\n\tsize: number;\r\n\tborderColor: string;\r\n\tcolor: number;\r\n\toverflow: boolean;\r\n\tusingRadio: boolean | undefined;\r\n\tonClick?: () => void;\r\n\tmod: ModsType;\r\n}\r\n\r\nexport interface AvatarProps {\r\n\ttalking: boolean;\r\n\tborderColor: string;\r\n\tisAlive: boolean;\r\n\tplayer: Player;\r\n\tsize: number;\r\n\tdeafened?: boolean;\r\n\tmuted?: boolean;\r\n\tconnectionState?: 'disconnected' | 'novoice' | 'connected';\r\n\tsocketConfig?: SocketConfig;\r\n\tshowborder?: boolean;\r\n\tshowHat?: boolean;\r\n\tlookLeft?: boolean;\r\n\toverflow?: boolean;\r\n\tisUsingRadio?: boolean;\r\n\tonConfigChange?: () => void;\r\n\tmod: ModsType;\r\n}\r\n\r\nconst Avatar: React.FC<AvatarProps> = function ({\r\n\ttalking,\r\n\tdeafened,\r\n\tmuted,\r\n\tborderColor,\r\n\tisAlive,\r\n\tplayer,\r\n\tsize,\r\n\tconnectionState,\r\n\tsocketConfig,\r\n\tshowborder,\r\n\tshowHat,\r\n\tisUsingRadio,\r\n\tlookLeft = false,\r\n\toverflow = false,\r\n\tonConfigChange,\r\n\tmod,\r\n}: AvatarProps) {\r\n\tconst classes = useStyles();\r\n\tlet icon;\r\n\tdeafened = deafened === true || socketConfig?.isMuted === true || socketConfig?.volume === 0;\r\n\tswitch (connectionState) {\r\n\t\tcase 'connected':\r\n\t\t\tif (deafened) {\r\n\t\t\t\ticon = <VolumeOff className={classes.icon} />;\r\n\t\t\t} else if (muted) {\r\n\t\t\t\ticon = <MicOff className={classes.icon} />;\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\t\tcase 'novoice':\r\n\t\t\ticon = <LinkOff className={classes.icon} style={{ background: '#e67e22', borderColor: '#694900' }} />;\r\n\t\t\tbreak;\r\n\t\tcase 'disconnected':\r\n\t\t\ticon = <WifiOff className={classes.icon} />;\r\n\t\t\tbreak;\r\n\t}\r\n\tif (player.bugged) {\r\n\t\ticon = <ErrorOutline className={classes.icon} style={{ background: 'red', borderColor: '' }} />;\r\n\t}\r\n\tconst canvas = (\r\n\t\t<Canvas\r\n\t\t\tclassName={classes.canvas}\r\n\t\t\tcolor={player.colorId}\r\n\t\t\that={showHat === false ? '' : player.hatId}\r\n\t\t\tvisor={showHat === false ? '' : player.visorId}\r\n\t\t\tskin={player.skinId}\r\n\t\t\tisAlive={isAlive}\r\n\t\t\tlookLeft={lookLeft === true}\r\n\t\t\tborderColor={talking ? borderColor : showborder === true ? '#ccbdcc86' : 'transparent'}\r\n\t\t\tsize={size}\r\n\t\t\toverflow={overflow}\r\n\t\t\tusingRadio={isUsingRadio}\r\n\t\t\tmod={mod}\r\n\t\t/>\r\n\t);\r\n\r\n\tif (socketConfig) {\r\n\t\tlet muteButtonIcon;\r\n\t\tif (socketConfig.isMuted) {\r\n\t\t\tmuteButtonIcon = <VolumeOff color=\"primary\" className={classes.iconNoBackground}></VolumeOff>;\r\n\t\t} else {\r\n\t\t\tmuteButtonIcon = <VolumeUp color=\"primary\" className={classes.iconNoBackground}></VolumeUp>;\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<Tooltip\r\n\t\t\t\tmouseOutDelay={300}\r\n\t\t\t\tcontent={\r\n\t\t\t\t\t<div className={classes.innerTooltip}>\r\n\t\t\t\t\t\t<b>{player.name}</b>\r\n\t\t\t\t\t\t<Grid container spacing={0} className={classes.slidecontainer}>\r\n\t\t\t\t\t\t\t<Grid item>\r\n\t\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\t\tsocketConfig.isMuted = !socketConfig.isMuted;\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tstyle={{ margin: '1px 1px 0px 0px' }}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{muteButtonIcon}\r\n\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t<Grid item xs>\r\n\t\t\t\t\t\t\t\t<Slider\r\n\t\t\t\t\t\t\t\t\tvalue={socketConfig.volume}\r\n\t\t\t\t\t\t\t\t\tmin={0}\r\n\t\t\t\t\t\t\t\t\tmax={2}\r\n\t\t\t\t\t\t\t\t\tstep={0.02}\r\n\t\t\t\t\t\t\t\t\tonChange={(_, newValue: number | number[]) => {\r\n\t\t\t\t\t\t\t\t\t\tsocketConfig.volume = newValue as number;\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tvalueLabelDisplay={'auto'}\r\n\t\t\t\t\t\t\t\t\tvalueLabelFormat={(value) => Math.floor(value * 100) + '%'}\r\n\t\t\t\t\t\t\t\t\tonMouseLeave={() => {\r\n\t\t\t\t\t\t\t\t\t\tif (onConfigChange) {\r\n\t\t\t\t\t\t\t\t\t\t\tonConfigChange();\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\taria-labelledby=\"continuous-slider\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t\tpadding={5}\r\n\t\t\t>\r\n\t\t\t\t{canvas}\r\n\t\t\t\t{icon}\r\n\t\t\t</Tooltip>\r\n\t\t);\r\n\t} else {\r\n\t\treturn (\r\n\t\t\t<div className={classes.relative}>\r\n\t\t\t\t{canvas}\r\n\t\t\t\t{icon}\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n};\r\n\r\ninterface UseCanvasStylesParams {\r\n\tisAlive: boolean;\r\n\tdementions: {\r\n\t\that: HatDementions;\r\n\t\tvisor: HatDementions;\r\n\t\tskin: HatDementions;\r\n\t};\r\n\tlookLeft: boolean;\r\n\tsize: number;\r\n\tborderColor: string;\r\n\tpaddingLeft: number;\r\n}\r\nconst useCanvasStyles = makeStyles(() => ({\r\n\tbase: {\r\n\t\twidth: '105%',\r\n\t\tposition: 'absolute',\r\n\t\ttop: '22%',\r\n\t\tleft: ({ paddingLeft }: UseCanvasStylesParams) => paddingLeft,\r\n\t\tzIndex: 2,\r\n\t},\r\n\that: {\r\n\t\tpointerEvents: 'none',\r\n\t\twidth: ({ dementions }: UseCanvasStylesParams) => dementions.hat.width,\r\n\t\tposition: 'absolute',\r\n\t\ttop: ({ dementions }: UseCanvasStylesParams) => `calc(22% + ${dementions.hat.top})`,\r\n\t\tleft: ({ size, paddingLeft, dementions }: UseCanvasStylesParams) =>\r\n\t\t\t`calc(${dementions.hat.left} + ${Math.max(2, size / 40) / 2 + paddingLeft}px)`,\r\n\t\tzIndex: 4,\r\n\t\tdisplay: ({ isAlive }: UseCanvasStylesParams) => (isAlive ? 'block' : 'none'),\r\n\t},\r\n\tskin: {\r\n\t\tpointerEvents: 'none',\r\n\t\twidth: ({ dementions }: UseCanvasStylesParams) => dementions.skin.width,\r\n\t\tposition: 'absolute',\r\n\t\ttop: ({ dementions }: UseCanvasStylesParams) => `calc(22% + ${dementions.skin.top})`,\r\n\t\tleft: ({ size, paddingLeft, dementions }: UseCanvasStylesParams) =>\r\n\t\t\t`calc(${dementions.skin.left} + ${Math.max(2, size / 40) / 2 + paddingLeft}px)`,\r\n\t\tzIndex: 3,\r\n\t\tdisplay: ({ isAlive }: UseCanvasStylesParams) => (isAlive ? 'block' : 'none'),\r\n\t},\r\n\tvisor: {\r\n\t\tpointerEvents: 'none',\r\n\t\twidth: ({ dementions }: UseCanvasStylesParams) => dementions.visor.width,\r\n\t\tposition: 'absolute',\r\n\t\ttop: ({ dementions }: UseCanvasStylesParams) => `calc(22% + ${dementions.visor.top})`,\r\n\t\tleft: ({ size, paddingLeft, dementions }: UseCanvasStylesParams) =>\r\n\t\t\t`calc(${dementions.visor.left} + ${Math.max(2, size / 40) / 2 + paddingLeft}px)`,\r\n\t\tzIndex: 3,\r\n\t\tdisplay: ({ isAlive }: UseCanvasStylesParams) => (isAlive ? 'block' : 'none'),\r\n\t},\r\n\tavatar: {\r\n\t\t// overflow: 'hidden',\r\n\t\tborderRadius: '50%',\r\n\t\tposition: 'relative',\r\n\t\tborderStyle: 'solid',\r\n\t\ttransition: 'border-color .2s ease-out',\r\n\t\tborderColor: ({ borderColor }: UseCanvasStylesParams) => borderColor,\r\n\t\tborderWidth: ({ size }: UseCanvasStylesParams) => Math.max(2, size / 40),\r\n\t\ttransform: ({ lookLeft }: UseCanvasStylesParams) => (lookLeft ? 'scaleX(-1)' : 'scaleX(1)'),\r\n\t\twidth: '100%',\r\n\t\tpaddingBottom: '100%',\r\n\t\tcursor: 'pointer',\r\n\t},\r\n\tradio: {\r\n\t\tposition: 'absolute',\r\n\t\tleft: '70%',\r\n\t\ttop: '80%',\r\n\t\twidth: '30px',\r\n\t\ttransform: 'translate(-50%, -50%)',\r\n\t\tfill: 'white',\r\n\t\tpadding: 2,\r\n\t\tzIndex: 12,\r\n\t},\r\n}));\r\n\r\nfunction Canvas({\r\n\that,\r\n\tskin,\r\n\tvisor,\r\n\tisAlive,\r\n\tlookLeft,\r\n\tsize,\r\n\tborderColor,\r\n\tcolor,\r\n\toverflow,\r\n\tusingRadio,\r\n\tonClick,\r\n\tmod,\r\n}: CanvasProps) {\r\n\tconst hatImg = useMemo(() => {\r\n\t\tif (!initializedHats) {\r\n\t\t\tinitializeHats();\r\n\t\t}\r\n\t\treturn {\r\n\t\t\tbase: getCosmetic(color, isAlive, cosmeticType.base),\r\n\t\t\that_front: !initializedHats ? '' : getCosmetic(color, isAlive, cosmeticType.hat, hat, mod),\r\n\t\t\that_back: !initializedHats ? '' : getCosmetic(color, isAlive, cosmeticType.hat_back, hat, mod),\r\n\t\t\tskin: !initializedHats ? '' : getCosmetic(color, isAlive, cosmeticType.hat, skin, mod),\r\n\t\t\tvisor: !initializedHats ? '' : getCosmetic(color, isAlive, cosmeticType.hat, visor, mod),\r\n\t\t\tdementions: {\r\n\t\t\t\that: getHatDementions(hat, mod),\r\n\t\t\t\tvisor: getHatDementions(visor, mod),\r\n\t\t\t\tskin: getHatDementions(skin, mod),\r\n\t\t\t},\r\n\t\t};\r\n\t}, [color, hat, skin, visor, initializedHats, isAlive]);\r\n\r\n\tconst classes = useCanvasStyles({\r\n\t\tisAlive,\r\n\t\tdementions: hatImg.dementions,\r\n\t\tlookLeft,\r\n\t\tsize,\r\n\t\tborderColor,\r\n\t\tpaddingLeft: -7,\r\n\t});\r\n\t//@ts-ignore\r\n\tconst onerror = (e: any) => {\r\n\t\te.target.style.display = 'none';\r\n\t};\r\n\r\n\t//@ts-ignore\r\n\tconst onload = (e: any) => {\r\n\t\te.target.style.display = '';\r\n\t};\r\n\r\n\tconst hatElement = (\r\n\t\t<>\r\n\t\t\t<img src={hatImg.hat_front} className={classes.hat} onError={onerror} onLoad={onload} />\r\n\t\t\t<img src={hatImg.visor} className={classes.visor} onError={onerror} onLoad={onload} />\r\n\r\n\t\t\t<img src={hatImg.hat_back} className={classes.hat} style={{ zIndex: 1 }} onError={onerror} onLoad={onload} />\r\n\t\t</>\r\n\t);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div className={classes.avatar} onClick={onClick}>\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName={classes.avatar}\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\toverflow: 'hidden',\r\n\t\t\t\t\t\tposition: 'absolute',\r\n\t\t\t\t\t\ttop: Math.max(2, size / 40) * -1,\r\n\t\t\t\t\t\tleft: Math.max(2, size / 40) * -1,\r\n\t\t\t\t\t\ttransform: 'unset',\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t<img\r\n\t\t\t\t\t\tsrc={hatImg.base}\r\n\t\t\t\t\t\tclassName={classes.base}\r\n\t\t\t\t\t\t//@ts-ignore\r\n\t\t\t\t\t\tonError={(e: any) => {\r\n\t\t\t\t\t\t\te.target.onError = null;\r\n\t\t\t\t\t\t\te.target.src = redAlive;\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t<img src={hatImg.skin} className={classes.skin} onError={onerror} onLoad={onload} />\r\n\t\t\t\t\t{overflow && hatElement}\r\n\t\t\t\t</div>\r\n\t\t\t\t{!overflow && hatElement}\r\n\t\t\t\t{usingRadio && <img src={RadioSVG} className={classes.radio} />}\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default Avatar;\r\n"]}