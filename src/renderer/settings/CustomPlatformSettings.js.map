{"version":3,"file":"CustomPlatformSettings.js","sourceRoot":"","sources":["CustomPlatformSettings.tsx"],"names":[],"mappings":"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","sourcesContent":["import {\r\n\tButton,\r\n\tCheckbox,\r\n\tDialog,\r\n\tDialogActions,\r\n\tDialogContent,\r\n\tDialogTitle,\r\n\tFormControlLabel,\r\n\tIconButton,\r\n\tRadio,\r\n\tRadioGroup,\r\n\tTextField,\r\n} from '@material-ui/core';\r\nimport makeStyles from '@material-ui/core/styles/makeStyles';\r\nimport React, { useMemo, useState, useEffect, useContext } from 'react';\r\nimport ChevronLeft from '@material-ui/icons/ArrowBack';\r\nimport { GamePlatformInstance, PlatformRunType } from '../../common/GamePlatform';\r\nimport path from 'path';\r\nimport { platform } from 'process';\r\nimport { SettingsContext } from '../contexts';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\theader: {\r\n\t\tdisplay: 'flex',\r\n\t\talignItems: 'center',\r\n\t},\r\n\tback: {\r\n\t\tcursor: 'pointer',\r\n\t\tposition: 'absolute',\r\n\t\tright: theme.spacing(1),\r\n\t\tWebkitAppRegion: 'no-drag',\r\n\t},\r\n\tdialog: {\r\n\t\tdisplay: 'flex',\r\n\t\tflexDirection: 'column',\r\n\t\talignItems: 'center',\r\n\t\tjustifyContent: 'start',\r\n\t\t'&>*': {\r\n\t\t\tmarginBottom: theme.spacing(1),\r\n\t\t},\r\n\t},\r\n\tradioGroup: {\r\n\t\tflexDirection: 'row',\r\n\t},\r\n}));\r\n\r\nexport interface CustomPlatformSettingProps {\r\n\tt: (key: string) => string;\r\n\topen: boolean;\r\n\tsetOpenState: (state: boolean) => void;\r\n\teditPlatform?: GamePlatformInstance;\r\n}\r\n\r\nexport const CustomPlatformSettings: React.FC<CustomPlatformSettingProps> = function ({\r\n\tt,\r\n\topen,\r\n\tsetOpenState,\r\n\teditPlatform,\r\n}: CustomPlatformSettingProps) {\r\n\tconst desktopPlatform = platform;\r\n\r\n\tconst classes = useStyles();\r\n\tconst [settings, setSettings] = useContext(SettingsContext);\r\n\tconst [advanced, setAdvanced] = useState(false);\r\n\r\n\tconst emptyCustomPlatform: GamePlatformInstance = {\r\n\t\tdefault: false,\r\n\t\tkey: '',\r\n\t\tlaunchType: PlatformRunType.EXE,\r\n\t\trunPath: '',\r\n\t\texecute: [''],\r\n\t\ttranslateKey: '',\r\n\t};\r\n\tconst [customPlatform, setCustomPlatform] = useState(emptyCustomPlatform);\r\n\r\n\tuseEffect(() => {\r\n\t\tsetCustomPlatform(editPlatform ? editPlatform : emptyCustomPlatform);\r\n\t\tif (editPlatform && editPlatform.execute.length > 1) {\r\n\t\t\tsetAdvanced(true);\r\n\t\t} else {\r\n\t\t\tsetAdvanced(false);\r\n\t\t}\r\n\t}, [open]);\r\n\r\n\tconst setPlatformName = (name: string) => {\r\n\t\tsetCustomPlatform((prevState) => ({ ...prevState, key: name, translateKey: name }));\r\n\t};\r\n\r\n\tconst setPlatformRunType = (runType: PlatformRunType) => {\r\n\t\tsetCustomPlatform((prevState) => ({ ...prevState, launchType: runType, runPath: '', execute: [''] }));\r\n\t};\r\n\r\n\tconst setPlatformRun = (pathsString: string) => {\r\n\t\tif (customPlatform.launchType === PlatformRunType.EXE) {\r\n\t\t\tconst exe = path.parse(pathsString);\r\n\t\t\tif (exe) {\r\n\t\t\t\tsetCustomPlatform((prevState) => ({\r\n\t\t\t\t\t...prevState,\r\n\t\t\t\t\trunPath: exe.dir,\r\n\t\t\t\t\texecute: [exe.base].concat(...prevState.execute.slice(1)),\r\n\t\t\t\t}));\r\n\t\t\t} else {\r\n\t\t\t\tsetCustomPlatform((prevState) => ({ ...prevState, runPath: '', execute: [''] }));\r\n\t\t\t}\r\n\t\t} else if (customPlatform.launchType === PlatformRunType.URI) {\r\n\t\t\tsetCustomPlatform((prevState) => ({ ...prevState, runPath: pathsString }));\r\n\t\t}\r\n\t};\r\n\r\n\tconst setPlatformArgs = (args: string) => {\r\n\t\tif (args === '') {\r\n\t\t\tsetCustomPlatform((prevState) => ({ ...prevState, execute: [customPlatform.execute[0]] }));\r\n\t\t} else if (customPlatform.launchType === PlatformRunType.EXE) {\r\n\t\t\tsetCustomPlatform((prevState) => ({\r\n\t\t\t\t...prevState,\r\n\t\t\t\texecute: [customPlatform.execute[0]].concat(...args.split(' ')),\r\n\t\t\t}));\r\n\t\t}\r\n\t};\r\n\r\n\t// Delete and re-add platform if we're editing\r\n\tconst saveCustomPlatform = () => {\r\n\t\tif (editPlatform && settings.customPlatforms[editPlatform.key]) {\r\n\t\t\tconst { [editPlatform.key]: remove, ...rest } = settings.customPlatforms;\r\n\t\t\tsetSettings({\r\n\t\t\t\ttype: 'setOne',\r\n\t\t\t\taction: [\r\n\t\t\t\t\t'customPlatforms',\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t...rest,\r\n\t\t\t\t\t\t[customPlatform.key]: customPlatform,\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tsetSettings({\r\n\t\t\t\ttype: 'setOne',\r\n\t\t\t\taction: [\r\n\t\t\t\t\t'customPlatforms',\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t...settings.customPlatforms,\r\n\t\t\t\t\t\t[customPlatform.key]: customPlatform,\r\n\t\t\t\t\t},\r\n\t\t\t\t],\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tconst deleteCustomPlatform = () => {\r\n\t\tconst { [customPlatform.key]: remove, ...rest } = settings.customPlatforms;\r\n\t\tsetSettings({\r\n\t\t\ttype: 'setOne',\r\n\t\t\taction: ['customPlatforms', rest],\r\n\t\t});\r\n\t};\r\n\r\n\tconst runInputs = useMemo(() => {\r\n\t\tif (customPlatform.launchType === PlatformRunType.EXE) {\r\n\t\t\treturn (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tlabel={t('settings.customplatforms.path')}\r\n\t\t\t\t\t\tvalue={customPlatform.execute[0] ? path.join(customPlatform.runPath, customPlatform.execute[0]) : ''}\r\n\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\tdisabled={true}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<Button variant=\"contained\" component=\"label\">\r\n\t\t\t\t\t\t{t('buttons.file_select')}\r\n\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\taccept={desktopPlatform === 'win32' ? '.exe' : '*'}\r\n\t\t\t\t\t\t\ttype=\"file\"\r\n\t\t\t\t\t\t\thidden\r\n\t\t\t\t\t\t\tonChange={(ev) => {\r\n\t\t\t\t\t\t\t\tif (ev.target.files && ev.target.files.length > 0) {\r\n\t\t\t\t\t\t\t\t\tsetPlatformRun(ev.target.files[0].path);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tsetPlatformRun('');\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t<Checkbox\r\n\t\t\t\t\t\t\t\tchecked={advanced}\r\n\t\t\t\t\t\t\t\tonChange={(_, checked: boolean) => {\r\n\t\t\t\t\t\t\t\t\tsetAdvanced(checked);\r\n\t\t\t\t\t\t\t\t\tif (!checked) {\r\n\t\t\t\t\t\t\t\t\t\tsetPlatformArgs('');\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tlabel={t('settings.customplatforms.advanced')}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t{advanced ? (\r\n\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tlabel={t('settings.customplatforms.arguments')}\r\n\t\t\t\t\t\t\tvalue={customPlatform.execute.slice(1).join(' ')}\r\n\t\t\t\t\t\t\tonChange={(ev) => setPlatformArgs(ev.target.value)}\r\n\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t) : null}\r\n\t\t\t\t</>\r\n\t\t\t);\r\n\t\t} else {\r\n\t\t\treturn (\r\n\t\t\t\t<>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tlabel={t('settings.customplatforms.uri')}\r\n\t\t\t\t\t\tvalue={customPlatform.runPath}\r\n\t\t\t\t\t\tonChange={(ev) => setPlatformRun(ev.target.value)}\r\n\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\tdisabled={false}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</>\r\n\t\t\t);\r\n\t\t}\r\n\t}, [customPlatform, advanced]);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Dialog fullScreen open={open}>\r\n\t\t\t\t<div className={classes.header}>\r\n\t\t\t\t\t<DialogTitle>{t('settings.customplatforms.title')}</DialogTitle>\r\n\t\t\t\t\t<IconButton className={classes.back} size=\"small\" onClick={() => setOpenState(false)}>\r\n\t\t\t\t\t\t<ChevronLeft htmlColor=\"#777\" />\r\n\t\t\t\t\t</IconButton>\r\n\t\t\t\t</div>\r\n\t\t\t\t<DialogContent className={classes.dialog}>\r\n\t\t\t\t\t<TextField\r\n\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\tspellCheck={false}\r\n\t\t\t\t\t\tlabel={t('settings.customplatforms.platform_title')}\r\n\t\t\t\t\t\tvalue={customPlatform.key}\r\n\t\t\t\t\t\tonChange={(ev) => setPlatformName(ev.target.value)}\r\n\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\tdisabled={false}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<RadioGroup\r\n\t\t\t\t\t\tclassName={classes.radioGroup}\r\n\t\t\t\t\t\tvalue={customPlatform.launchType}\r\n\t\t\t\t\t\tonChange={(ev) => {\r\n\t\t\t\t\t\t\tsetPlatformRunType(ev.target.value as PlatformRunType);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<FormControlLabel label={PlatformRunType.EXE} value={PlatformRunType.EXE} control={<Radio />} />\r\n\t\t\t\t\t\t<FormControlLabel label={PlatformRunType.URI} value={PlatformRunType.URI} control={<Radio />} />\r\n\t\t\t\t\t</RadioGroup>\r\n\t\t\t\t\t{runInputs}\r\n\t\t\t\t</DialogContent>\r\n\t\t\t\t<DialogActions>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tdeleteCustomPlatform();\r\n\t\t\t\t\t\t\tsetCustomPlatform(emptyCustomPlatform);\r\n\t\t\t\t\t\t\tsetOpenState(false);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t('buttons.delete')}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t<Button\r\n\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\tsaveCustomPlatform();\r\n\t\t\t\t\t\t\tsetCustomPlatform(emptyCustomPlatform);\r\n\t\t\t\t\t\t\tsetOpenState(false);\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{t('buttons.confirm')}\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</DialogActions>\r\n\t\t\t</Dialog>\r\n\t\t</>\r\n\t);\r\n};\r\n"]}